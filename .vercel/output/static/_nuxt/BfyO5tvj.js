import{B as e,D as t,F as n,G as r,I as i,K as a,L as o,P as s,_ as c,a as l,c as u,d,f,g as p,h as m,i as h,l as g,n as _,o as v,p as y,r as b,u as x,v as S,y as C}from"./C3gy2iHx.js";var w=(...e)=>e.find(e=>e!==void 0);function T(v){let y=v.componentName||`NuxtLink`;function S(e){return typeof e==`string`&&e.startsWith(`#`)}function C(e,t,n){let r=n??v.trailingSlash;if(!e||r!==`append`&&r!==`remove`)return e;if(typeof e==`string`)return D(e,r);let i=`path`in e&&e.path!==void 0?e.path:t(e).path;return{...e,name:void 0,path:D(i,r)}}function T(n){let r=x(),i=f(),a=t(()=>!!n.target&&n.target!==`_self`),o=t(()=>{let e=n.to||n.href||``;return typeof e==`string`&&m(e,{acceptRelative:!0})}),s=e(`RouterLink`),c=s&&typeof s!=`string`?s.useLink:void 0,l=t(()=>{if(n.external)return!0;let e=n.to||n.href||``;return typeof e==`object`?!1:e===``||o.value}),d=t(()=>{let e=n.to||n.href||``;return l.value?e:C(e,r.resolve,n.trailingSlash)}),h=l.value?void 0:c?.({...n,to:d}),_=t(()=>{let e=n.trailingSlash??v.trailingSlash;if(!d.value||o.value||S(d.value))return d.value;if(l.value){let t=typeof d.value==`object`&&`path`in d.value?g(d.value):d.value;return D(typeof t==`object`?r.resolve(t).href:t,e)}return typeof d.value==`object`?r.resolve(d.value)?.href??null:D(p(i.app.baseURL,d.value),e)});return{to:d,hasTarget:a,isAbsoluteUrl:o,isExternal:l,href:_,isActive:h?.isActive??t(()=>d.value===r.currentRoute.value.path),isExactActive:h?.isExactActive??t(()=>d.value===r.currentRoute.value.path),route:h?.route??t(()=>r.resolve(d.value)),async navigate(e){await u(_.value,{replace:n.replace,external:l.value||a.value})}}}return s({name:y,props:{to:{type:[String,Object],default:void 0,required:!1},href:{type:[String,Object],default:void 0,required:!1},target:{type:String,default:void 0,required:!1},rel:{type:String,default:void 0,required:!1},noRel:{type:Boolean,default:void 0,required:!1},prefetch:{type:Boolean,default:void 0,required:!1},prefetchOn:{type:[String,Object],default:void 0,required:!1},noPrefetch:{type:Boolean,default:void 0,required:!1},activeClass:{type:String,default:void 0,required:!1},exactActiveClass:{type:String,default:void 0,required:!1},prefetchedClass:{type:String,default:void 0,required:!1},replace:{type:Boolean,default:void 0,required:!1},ariaCurrentValue:{type:String,default:void 0,required:!1},external:{type:Boolean,default:void 0,required:!1},custom:{type:Boolean,default:void 0,required:!1},trailingSlash:{type:String,default:void 0,required:!1}},useLink:T,setup(t,{slots:s}){let u=x(),{to:f,href:p,navigate:m,isExternal:y,hasTarget:C,isAbsoluteUrl:E}=T(t),D=a(!1),k=r(null),j=e=>{k.value=t.custom?e?.$el?.nextElementSibling:e?.$el};function M(e){return!D.value&&(typeof t.prefetchOn==`string`?t.prefetchOn===e:t.prefetchOn?.[e]??v.prefetchOn?.[e])&&(t.prefetch??v.prefetch)!==!1&&t.noPrefetch!==!0&&t.target!==`_blank`&&!A()}async function N(e=d()){if(D.value)return;D.value=!0;let t=typeof f.value==`string`?f.value:y.value?g(f.value):u.resolve(f.value).fullPath,n=y.value?new URL(t,window.location.href).href:t;await Promise.all([e.hooks.callHook(`link:prefetch`,n).catch(()=>{}),!y.value&&!C.value&&_(f.value,u).catch(()=>{})])}if(M(`visibility`)){let e=d(),t,n=null;o(()=>{let r=O();b(()=>{t=l(()=>{k?.value?.tagName&&(n=r.observe(k.value,async()=>{n?.(),n=null,await N(e)}))})})}),i(()=>{t&&h(t),n?.(),n=null})}return()=>{if(!y.value&&!C.value&&!S(f.value)){let r={ref:j,to:f.value,activeClass:t.activeClass||v.activeClass,exactActiveClass:t.exactActiveClass||v.exactActiveClass,replace:t.replace,ariaCurrentValue:t.ariaCurrentValue,custom:t.custom};return t.custom||(M(`interaction`)&&(r.onPointerenter=N.bind(null,void 0),r.onFocus=N.bind(null,void 0)),D.value&&(r.class=t.prefetchedClass||v.prefetchedClass),r.rel=t.rel||void 0),n(e(`RouterLink`),r,s.default)}let r=t.target||null,i=w(t.noRel?``:t.rel,v.externalRelAttribute,E.value||C.value?`noopener noreferrer`:``)||null;return t.custom?s.default?s.default({href:p.value,navigate:m,prefetch:N,get route(){if(!p.value)return;let e=new URL(p.value,window.location.href);return{path:e.pathname,fullPath:e.pathname,get query(){return c(e.search)},hash:e.hash,params:{},name:void 0,matched:[],redirectedFrom:void 0,meta:{},href:p.value}},rel:i,target:r,isExternal:y.value||C.value,isActive:!1,isExactActive:!1}):null:n(`a`,{ref:k,href:p.value||null,rel:i,target:r,onClick:e=>{if(!(y.value||C.value))return e.preventDefault(),t.replace?u.replace(p.value):u.push(p.value)}},s.default?.())}}})}var E=T(y);function D(e,t){let n=t===`append`?S:C;return m(e)&&!e.startsWith(`http`)?e:n(e,!0)}function O(){let e=d();if(e._observer)return e._observer;let t=null,n=new Map;return e._observer={observe:(e,r)=>(t||=new IntersectionObserver(e=>{for(let t of e){let e=n.get(t.target);(t.isIntersecting||t.intersectionRatio>0)&&e&&e()}}),n.set(e,r),t.observe(e),()=>{n.delete(e),t?.unobserve(e),n.size===0&&(t?.disconnect(),t=null)})}}var k=/2g/;function A(){let e=navigator.connection;return!!(e&&(e.saveData||k.test(e.effectiveType)))}export{E as t};